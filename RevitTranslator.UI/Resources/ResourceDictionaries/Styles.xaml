<ResourceDictionary
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
	xmlns:controls="clr-namespace:RevitTranslator.Ui.Library.Controls;assembly=RevitTranslator.Ui.Library">
	
	<ResourceDictionary.MergedDictionaries>
		<ResourceDictionary Source="/RevitTranslator.Ui.Library;component/Resources/Theme/Light.xaml"/>
		<ResourceDictionary Source="/RevitTranslator.Ui.Library;component/Controls/TextBox/TextBox.xaml"/>
		<ResourceDictionary Source="/RevitTranslator.Ui.Library;component/Controls/ComboBox/ComboBox.xaml"/>
	</ResourceDictionary.MergedDictionaries>

	<!-- Colors -->
    <Color x:Key="LightGray">#646464</Color>

	<!-- Brushes -->
    <SolidColorBrush x:Key="LightGrayBrush" Color="{StaticResource LightGray}"/>

    <!-- Button Styles -->
	<Style x:Key="ButtonStyle" TargetType="Button">
		<Setter Property="Background" Value="{StaticResource AccentButtonBackground}"/>
		<Setter Property="Foreground" Value="White"/>
		<Setter Property="BorderBrush" Value="{StaticResource AccentButtonBackground}"/>
		<Setter Property="BorderThickness" Value="0"/>
        <Setter Property="FontSize" Value ="20"/>
        <Setter Property="Padding" Value="10"/>
		<Setter Property="Template">
			<Setter.Value>
				<ControlTemplate TargetType="Button">
					<Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}">
						<ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
					</Border>
					<ControlTemplate.Triggers>
						<Trigger Property="IsEnabled" Value="False">
							<Setter Property="Background" Value="DarkGray"/>
							<Setter Property="Cursor" Value="Cross"/>
						</Trigger>
						<MultiTrigger>
							<MultiTrigger.Conditions>
								<Condition Property="IsEnabled" Value="True"/>
								<Condition Property="IsMouseOver" Value="True"/>
							</MultiTrigger.Conditions>
							<Setter Property="Background" Value="{StaticResource AccentButtonBackgroundPointerOver}"/>
						</MultiTrigger>
						<MultiTrigger>
							<MultiTrigger.Conditions>
								<Condition Property="IsEnabled" Value="True"/>
								<Condition Property="IsPressed" Value="True"/>
							</MultiTrigger.Conditions>
							<Setter Property="Background" Value="{StaticResource AccentButtonBackgroundPressed}"/>
						</MultiTrigger>
					</ControlTemplate.Triggers>
				</ControlTemplate>
			</Setter.Value>
		</Setter>
	</Style>

	<!-- Large Rectangular Button Style -->
	<Style x:Key="LargeButton" TargetType="Button" BasedOn="{StaticResource ButtonStyle}">
		<Setter Property="HorizontalAlignment" Value="Stretch"/>
		<Setter Property="VerticalAlignment" Value="Bottom"/>
		<Setter Property="Height" Value="80"/>
	</Style>

    <!--TextBlock Style-->
    <Style x:Key="Annotation" TargetType="TextBlock">
        <Setter Property="VerticalAlignment" Value="Bottom"/>
        <Setter Property="Padding" Value="0 0 0 5"/>
        <Setter Property="Foreground" Value="Gray"/>
    </Style>
	
	<Style
		x:Key="ApiTextBoxStyle"
		TargetType="{x:Type ui:TextBox}"
		BasedOn="{StaticResource DefaultUiTextBoxStyle}">
		<Setter Property="Icon" Value="{ui:SymbolIcon Checkmark24}" />
		<Setter Property="IconForeground" Value="ForestGreen" />
		<Style.Triggers>
			<DataTrigger Binding="{Binding IsApiKeyValid}" Value="False">
				<Setter Property="Icon" Value="{ui:SymbolIcon Dismiss24}" />
				<Setter Property="IconForeground" Value="Salmon" />
			</DataTrigger>
		</Style.Triggers>
	</Style>

	<!-- WrapPanel ComboBox Styles -->
	<Style x:Key="WrapPanelComboBoxItemStyle"
		   TargetType="{x:Type ComboBoxItem}"
		   BasedOn="{StaticResource DefaultComboBoxItemStyle}">
		<Setter Property="Padding" Value="8,4" />
		<Setter Property="TextElement.FontSize" Value="13"/>
		<Setter Property="Template">
			<Setter.Value>
				<ControlTemplate TargetType="{x:Type ComboBoxItem}">
					<Grid Background="Transparent">
						<Border
							Name="ContentBorder"
							Margin="4,2"
							Padding="0"
							VerticalAlignment="Stretch"
							CornerRadius="{TemplateBinding Border.CornerRadius}"
							SnapsToDevicePixels="True">
							<Grid>
								<ContentPresenter
									x:Name="PART_ContentPresenter"
									Margin="{TemplateBinding Padding}"
									VerticalAlignment="Center" />
								<Rectangle
									x:Name="ActiveRectangle"
									Width="3"
									Height="16"
									Margin="0"
									HorizontalAlignment="Left"
									VerticalAlignment="Center"
									Fill="{DynamicResource ComboBoxItemPillFillBrush}"
									RadiusX="2"
									RadiusY="2"
									Visibility="Collapsed" />
							</Grid>
						</Border>
					</Grid>
					<ControlTemplate.Triggers>
						<Trigger Property="IsHighlighted" Value="True">
							<Setter TargetName="ContentBorder" Property="Background"
									Value="{DynamicResource ComboBoxItemBackgroundSelected}" />
						</Trigger>
						<Trigger Property="IsSelected" Value="True">
							<Setter TargetName="ActiveRectangle" Property="Visibility" Value="Visible" />
							<Setter TargetName="PART_ContentPresenter" Property="TextElement.Foreground"
									Value="{DynamicResource ComboBoxItemForegroundSelected}" />
						</Trigger>
						<Trigger Property="IsEnabled" Value="False">
							<Setter Property="Foreground" Value="{DynamicResource ComboBoxForegroundDisabled}" />
						</Trigger>
					</ControlTemplate.Triggers>
				</ControlTemplate>
			</Setter.Value>
		</Setter>
	</Style>

	<Style x:Key="WrapPanelComboBoxStyle"
		   TargetType="{x:Type ComboBox}"
		   BasedOn="{StaticResource DefaultComboBoxStyle}">
		<Setter Property="MaxDropDownHeight" Value="600" />
		<Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Auto" />
		<Setter Property="ItemContainerStyle" Value="{StaticResource WrapPanelComboBoxItemStyle}" />
		<Setter Property="Template">
			<Setter.Value>
				<ControlTemplate TargetType="{x:Type ComboBox}">
					<Grid HorizontalAlignment="{TemplateBinding HorizontalAlignment}"
						  VerticalAlignment="{TemplateBinding VerticalAlignment}">
						<Border
							x:Name="ContentBorder"
							Grid.Row="0"
							MinWidth="{TemplateBinding MinWidth}"
							MinHeight="{TemplateBinding MinHeight}"
							Width="{TemplateBinding Width}"
							Height="{TemplateBinding Height}"
							Padding="0"
							HorizontalAlignment="Stretch"
							VerticalAlignment="Stretch"
							Background="{TemplateBinding Background}"
							BorderBrush="{TemplateBinding BorderBrush}"
							BorderThickness="{TemplateBinding BorderThickness}"
							CornerRadius="{TemplateBinding Border.CornerRadius}">
							<Grid HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
								  VerticalAlignment="{TemplateBinding VerticalContentAlignment}">
								<Grid>
									<Grid.ColumnDefinitions>
										<ColumnDefinition Width="*" />
										<ColumnDefinition Width="Auto" />
									</Grid.ColumnDefinitions>
									<Grid Grid.Column="0" Margin="{TemplateBinding Padding}">
										<ContentPresenter
											Name="PART_ContentPresenter"
											HorizontalAlignment="Stretch"
											VerticalAlignment="Stretch"
											Content="{TemplateBinding SelectionBoxItem}"
											ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
											ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}"
											IsHitTestVisible="False"
											TextElement.Foreground="{TemplateBinding Foreground}" />
									</Grid>
									<Grid Grid.Column="1" Margin="{StaticResource ComboBoxChevronMargin}">
										<controls:SymbolIcon
											x:Name="ChevronIcon"
											Margin="0"
											VerticalAlignment="Center"
											FontSize="{StaticResource ComboBoxChevronSize}"
											Foreground="{DynamicResource ComboBoxDropDownGlyphForeground}"
											RenderTransformOrigin="0.5, 0.5"
											Symbol="ChevronDown24">
											<controls:SymbolIcon.RenderTransform>
												<RotateTransform Angle="0" />
											</controls:SymbolIcon.RenderTransform>
										</controls:SymbolIcon>
									</Grid>
									<Grid
										Grid.Column="0"
										Grid.ColumnSpan="2"
										Margin="0">
										<ToggleButton
											Name="ToggleButton"
											HorizontalAlignment="Stretch"
											VerticalAlignment="Stretch"
											ClickMode="Press"
											Focusable="False"
											Foreground="{TemplateBinding Foreground}"
											IsChecked="{Binding Path=IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
											Style="{StaticResource DefaultComboBoxToggleButtonStyle}" />
									</Grid>
									<Grid Grid.Column="0" Margin="{TemplateBinding Padding}">
										<TextBox
											x:Name="PART_EditableTextBox"
											HorizontalAlignment="Stretch"
											VerticalAlignment="Stretch"
											FontSize="{TemplateBinding FontSize}"
											Foreground="{TemplateBinding Foreground}"
											IsReadOnly="{TemplateBinding IsReadOnly}"
											Style="{StaticResource DefaultComboBoxTextBoxStyle}" />
									</Grid>
								</Grid>
								<Popup
									x:Name="Popup"
									VerticalAlignment="Center"
									AllowsTransparency="True"
									Focusable="False"
									IsOpen="{TemplateBinding IsDropDownOpen}"
									Placement="{TemplateBinding Popup.Placement}"
									PopupAnimation="{TemplateBinding Popup.PopupAnimation}"
									VerticalOffset="1">
									<Border
										x:Name="DropDownBorder"
										MinWidth="{TemplateBinding ActualWidth}"
										Margin="0"
										Padding="0,4,0,6"
										Background="{DynamicResource ComboBoxDropDownBackground}"
										BorderBrush="{DynamicResource ComboBoxDropDownBorderBrush}"
										BorderThickness="1"
										CornerRadius="{DynamicResource PopupCornerRadius}"
										SnapsToDevicePixels="True">
										<Border.RenderTransform>
											<TranslateTransform />
										</Border.RenderTransform>
										<Grid>
											<controls:DynamicScrollViewer
												MaxHeight="{TemplateBinding MaxDropDownHeight}"
												Margin="0"
												HorizontalScrollBarVisibility="{TemplateBinding ScrollViewer.HorizontalScrollBarVisibility}"
												SnapsToDevicePixels="True"
												TextElement.FontSize="{TemplateBinding FontSize}"
												TextElement.FontWeight="{TemplateBinding FontWeight}"
												TextElement.Foreground="{TemplateBinding Foreground}"
												VerticalScrollBarVisibility="{TemplateBinding ScrollViewer.VerticalScrollBarVisibility}">
												<WrapPanel
													IsItemsHost="True"
													Orientation="Vertical"
													Height="{TemplateBinding MaxDropDownHeight}"
													KeyboardNavigation.DirectionalNavigation="Contained"
													TextElement.FontSize="{TemplateBinding FontSize}" />
											</controls:DynamicScrollViewer>
										</Grid>
									</Border>
								</Popup>
							</Grid>
						</Border>
						<Border
							x:Name="AccentBorder"
							HorizontalAlignment="Stretch"
							VerticalAlignment="Stretch"
							BorderBrush="{DynamicResource ComboBoxBorderBrushFocused}"
							BorderThickness="{StaticResource ComboBoxAccentBorderThemeThickness}"
							CornerRadius="{TemplateBinding Border.CornerRadius}"
							Visibility="Collapsed" />
					</Grid>
					<ControlTemplate.Triggers>
						<Trigger Property="IsDropDownOpen" Value="True">
							<Trigger.EnterActions>
								<BeginStoryboard>
									<Storyboard>
										<DoubleAnimation
											Storyboard.TargetName="ChevronIcon"
											Storyboard.TargetProperty="(controls:SymbolIcon.RenderTransform).(RotateTransform.Angle)"
											From="0"
											To="180"
											Duration="00:00:00.167" />
										<DoubleAnimation
											Storyboard.TargetName="DropDownBorder"
											Storyboard.TargetProperty="(Border.RenderTransform).(TranslateTransform.Y)"
											From="-90"
											To="0"
											Duration="00:00:00.167">
											<DoubleAnimation.EasingFunction>
												<CircleEase EasingMode="EaseOut" />
											</DoubleAnimation.EasingFunction>
										</DoubleAnimation>
									</Storyboard>
								</BeginStoryboard>
							</Trigger.EnterActions>
							<Trigger.ExitActions>
								<BeginStoryboard>
									<Storyboard>
										<DoubleAnimation
											Storyboard.TargetName="ChevronIcon"
											Storyboard.TargetProperty="(controls:SymbolIcon.RenderTransform).(RotateTransform.Angle)"
											From="180"
											To="0"
											Duration="00:00:00.167" />
									</Storyboard>
								</BeginStoryboard>
							</Trigger.ExitActions>
						</Trigger>
						<Trigger Property="HasItems" Value="False">
							<Setter TargetName="DropDownBorder" Property="MinHeight"
									Value="{StaticResource ComboBoxPopupMinHeight}" />
						</Trigger>
						<Trigger SourceName="Popup" Property="Popup.AllowsTransparency" Value="False">
							<Setter TargetName="DropDownBorder" Property="CornerRadius" Value="0" />
						</Trigger>
						<Trigger Property="IsGrouping" Value="True">
							<Setter Property="ScrollViewer.CanContentScroll" Value="False" />
						</Trigger>
						<Trigger Property="IsEditable" Value="True">
							<Setter Property="IsTabStop" Value="False" />
							<Setter TargetName="PART_EditableTextBox" Property="Visibility" Value="Visible" />
							<Setter TargetName="PART_ContentPresenter" Property="Visibility" Value="Hidden" />
						</Trigger>
						<MultiTrigger>
							<MultiTrigger.Conditions>
								<Condition Property="IsEnabled" Value="True" />
								<Condition Property="IsKeyboardFocusWithin" Value="True" />
								<Condition Property="IsEditable" Value="True" />
							</MultiTrigger.Conditions>
							<Setter TargetName="ContentBorder" Property="Background"
									Value="{DynamicResource ComboBoxBackgroundFocused}" />
							<Setter TargetName="AccentBorder" Property="Visibility" Value="Visible" />
						</MultiTrigger>
						<MultiTrigger>
							<MultiTrigger.Conditions>
								<Condition Property="IsEnabled" Value="True" />
								<Condition Property="IsMouseOver" Value="True" />
								<Condition Property="IsKeyboardFocusWithin" Value="False" />
							</MultiTrigger.Conditions>
							<Setter TargetName="ContentBorder" Property="Background"
									Value="{DynamicResource ComboBoxBackgroundPointerOver}" />
						</MultiTrigger>
						<Trigger Property="IsEnabled" Value="False">
							<Setter TargetName="ContentBorder" Property="Background"
									Value="{DynamicResource ComboBoxBackgroundDisabled}" />
							<Setter TargetName="ContentBorder" Property="BorderBrush"
									Value="{DynamicResource ComboBoxBorderBrushDisabled}" />
							<Setter Property="Foreground" Value="{DynamicResource ComboBoxForegroundDisabled}" />
						</Trigger>
					</ControlTemplate.Triggers>
				</ControlTemplate>
			</Setter.Value>
		</Setter>
	</Style>

</ResourceDictionary>